<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Table with users</title>
</head>
<body>
    <div id='one'></div>
    <script>
        var persons = [];

        var person = {
            name: '',
            sname: '',
            age: ''
        };

        function ask() {
            person.name = prompt("Введите свое имя:");
            person.sname = prompt("Введите свою фамилию:");
            person.age = prompt("Введите свой возраст:");
            persons.push(person);
        }

        ask();

        function show(array) {
            for(var i = 0; i < array.length; i++)
                for (j in array[i]) {
                    document.write(j + ': ' + array[i][j] + "<br>")
                }
        }

        var quiz = prompt("Выберите действие 1, 2 или 3 для вывода данных опроса на экран", "1, 2 или 3");
        //Почему не срабатывает do - while. Что я делаю не так?
//        do {
            switch(quiz) {
                case("1"):
                    show(persons);
                    break;
                case("2"):
                    window.onload = function() {
                        var table = document.createElement('table');
                        persons.map(function(item) {
                            var row = document.createElement('tr');
                            table.appendChild(row);
                            for(j in item) {
                                var cell = document.createElement('td');
                                cell.innerHTML = j + ":" + item[j];
                                row.appendChild(cell);
                            }
                        });
                        var container = document.getElementById('one');
                        container.appendChild(table)};
                    break;
                case ("3"):
                    document.write("Количество человек в базе: " + persons.length);
                    break;
                default:
                    document.write("Вы не ввели неверніе данные");
                    break;
            }
//        } while (quiz !== null);
    </script>
</body>
</html>